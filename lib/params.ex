defmodule Ash.Serial.Params do
  @configs [
    "8N1",
    "8N2",
    "8E1",
    "8E2",
    "8O1",
    "8O2",
    "7N1",
    "7N2",
    "7E1",
    "7E2",
    "7O1",
    "7O2"
  ]

  @linux_speeds [
    4_000_000,
    3_500_000,
    3_000_000,
    2_500_000,
    2_000_000,
    1_500_000,
    1_152_000,
    1_000_000,
    921_600,
    576_000,
    500_000,
    460_800,
    230_400,
    115_200,
    57600,
    38400,
    19200,
    9600,
    4800,
    2400,
    1800,
    1200,
    600,
    300,
    200,
    150,
    134,
    110,
    75,
    50
  ]

  @darwin_speeds [
    230_400,
    115_200,
    76800,
    57600,
    38400,
    28800,
    19200,
    14400,
    9600,
    7200,
    4800,
    2400,
    1800,
    1200,
    600,
    300,
    200,
    150,
    134,
    110,
    75,
    50
  ]

  def speed() do
    case :os.type() do
      {:unix, :darwin} -> @darwin_speeds
      {:unix, :linux} -> @linux_speeds
    end
  end

  def config(), do: @configs
end
